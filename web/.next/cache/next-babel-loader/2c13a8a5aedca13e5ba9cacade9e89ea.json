{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport axios, { AxiosRequestConfig } from \"axios\";\nimport Router from \"next/router\";\nimport { SignupInputs } from \"/../pages/signup\";\nimport { catchAxiosError } from \"./error\";\nimport { post } from \"./rest\";\nexport function signup(_x) {\n  return _signup.apply(this, arguments);\n}\n\nfunction _signup() {\n  _signup = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(SignupInputs) {\n    var data, res;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            data = new URLSearchParams(SignupInputs);\n            _context.next = 3;\n            return post(\"/api/signup\", data)[\"catch\"](catchAxiosError);\n\n          case 3:\n            res = _context.sent;\n\n            if (!res.error) {\n              _context.next = 8;\n              break;\n            }\n\n            return _context.abrupt(\"return\", res.error);\n\n          case 8:\n            if (res.data) {\n              _context.next = 10;\n              break;\n            }\n\n            return _context.abrupt(\"return\", \"Something went wrong!\");\n\n          case 10:\n            _context.next = 12;\n            return Router.push(\"/api/signup\");\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _signup.apply(this, arguments);\n}","map":{"version":3,"sources":["/Users/oliverproud/go/src/notify.is-go/web/pages/services/signup.js"],"names":["axios","AxiosRequestConfig","Router","SignupInputs","catchAxiosError","post","signup","data","URLSearchParams","res","error","push"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,kBAAhB,QAA0C,OAA1C;AAEA,OAAOC,MAAP,MAAmB,aAAnB;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,SAASC,eAAT,QAAgC,SAAhC;AACA,SAASC,IAAT,QAAqB,QAArB;AAEA,gBAAsBC,MAAtB;AAAA;AAAA;;;qEAAO,iBAAsBH,YAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AACCI,YAAAA,IADD,GACQ,IAAIC,eAAJ,CAAoBL,YAApB,CADR;AAAA;AAAA,mBAEaE,IAAI,CAAC,aAAD,EAAgBE,IAAhB,CAAJ,UAAgCH,eAAhC,CAFb;;AAAA;AAECK,YAAAA,GAFD;;AAAA,iBAGDA,GAAG,CAACC,KAHH;AAAA;AAAA;AAAA;;AAAA,6CAIID,GAAG,CAACC,KAJR;;AAAA;AAAA,gBAKOD,GAAG,CAACF,IALX;AAAA;AAAA;AAAA;;AAAA,6CAMI,uBANJ;;AAAA;AAAA;AAAA,mBASCL,MAAM,CAACS,IAAP,CAAY,aAAZ,CATD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import axios, { AxiosRequestConfig } from \"axios\";\n\nimport Router from \"next/router\";\nimport { SignupInputs } from \"/../pages/signup\";\nimport { catchAxiosError } from \"./error\";\nimport { post } from \"./rest\";\n\nexport async function signup(SignupInputs) {\n  const data = new URLSearchParams(SignupInputs);\n  const res = await post(\"/api/signup\", data).catch(catchAxiosError);\n  if (res.error) {\n    return res.error;\n  } else if (!res.data) {\n    return \"Something went wrong!\";\n  }\n\n  await Router.push(\"/api/signup\");\n}\n"]},"metadata":{},"sourceType":"module"}